<app-header>
</app-header>
<app-aislogo></app-aislogo>
<div class="container">
    <div class="board">
        <div class="tab-content">
            <msw-navbar></msw-navbar>
                <div class="tab-pane fade in active">
                    <h6 class="head text-center">{{title}}</h6>
                    <br/>
                    <div class='row'>
                        <div class='col-xs-offset-1 col-xs-10 col-sm-offset-2 col-sm-8 col-md-offset-1 col-md-10 col-lg-offset-1 col-lg-10'>



                            <div class="row">
                                <div class="col-md-12">
                                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                        <div class="panel panel-default">
                                            <div class="panel-heading" role="tab" id="headingOne">
                                                <h4 class="panel-title">
                                                    <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#qualification" aria-expanded="false" aria-controls="qualification">
                                                        <b>Your Qualification</b>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="qualification" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                                                <!--qualification form-->
                                                <div class="row row-body">
                                                    <div class='col-xs-12 col-sm-12 col-md-6 col-lg-12' *ngIf="visible">
                                                        <table class="table table-sm">
                                                            <tr>
                                                                <th>Qualification</th>
                                                                <th>University</th>
                                                                <th>Institute</th>
                                                                <th>Subject</th>
                                                                <th>Division</th>
                                                                <th>Year</th>
                                                            </tr>
                                                            <tr>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control input-md" required pattern="[a-zA-Z ]*" id="eduqualification" type="text" placeholder="Quaification"
                                                                            name="eduqualification" #eduqualification="ngModel"
                                                                            [(ngModel)]="qualification.eduqualification">


                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control input-md" required pattern="[a-zA-Z ]*" id="university" type="text" placeholder="University" name="university"
                                                                            id="university" #university="ngModel" [(ngModel)]="qualification.university">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control input-md" required pattern="[a-zA-Z ]*" id="institute" type="text" placeholder="Institute" name="institute"
                                                                            id="institute" #institute="ngModel" [(ngModel)]="qualification.institute">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control input-md" required pattern="[a-zA-Z ]*" id="subject" type="text" placeholder="Subject" name="subject"
                                                                            id="subject" #subject="ngModel" [(ngModel)]="qualification.subject">

                                                                    </div>
                                                                </td>
                                                                <td>

                                                                    <div class="form-group">
                                                                        <input class="form-control input-md" required id="division" type="text" placeholder="Division" name="division" id="division"
                                                                            #division="ngModel" [(ngModel)]="qualification.division">

                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="form-group">
                                                                        <input class="form-control input-md" required minlength="4" maxlength="4" pattern="[0-9]{4}" type="text" placeholder="Year"
                                                                            name="year" id="year" #year="ngModel" [(ngModel)]="qualification.year">
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                        <button *ngIf="editFlag==false" class="btn btn-success btn-outline-rounded btn-info btn-add" (click)="addQualification()">Add Qualification</button>
                                                        <button *ngIf="editFlag==true" class="btn btn-success btn-outline-rounded btn-info btn-add" (click)="saveChanges()">Add Changes</button>
                                                    </div>
                                                </div>
                                                <!--qualification form-->

                                                <!--display table-->
                                                <div class="row " *ngIf="education.qualifications.length > 0">
                                                    <div class='col-xs-12 col-sm-12 col-md-6 col-lg-12'>
                                                        <h4 class="text-center">Educational Details</h4>
                                                        <table class="table table-sm">
                                                            <tr>
                                                                <th>Qualification</th>
                                                                <th>University</th>
                                                                <th>Institute</th>
                                                                <th>Subject</th>
                                                                <th>Division</th>
                                                                <th>Year</th>
                                                                <th>Actions</th>
                                                            </tr>
                                                            <tr *ngFor="let qual of education.qualifications; let i=index ">
                                                                <td>
                                                                    {{qual.eduqualification}}
                                                                </td>
                                                                <td>
                                                                    {{qual.university}}
                                                                </td>
                                                                <td>
                                                                    {{qual.institute}}
                                                                </td>
                                                                <td>
                                                                    {{qual.subject}}
                                                                </td>
                                                                <td>
                                                                    {{qual.division}}
                                                                </td>
                                                                <td>
                                                                    {{qual.year}}
                                                                </td>
                                                                <td>
                                                                    <a (click)="qualificationEdit(i)" class=" btn btn-info  a-info">
                                                                        <span class="glyphicon glyphicon-pencil"></span>
                                                                    </a>
                                                                    <a (click)="qualificationDelete(i)" class="btn  a-info btn-delete">
                                                                        <span class="glyphicon glyphicon-trash"></span>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </table>
                                                        <!-- <ul>
                                                                        <li >
                                                                            EduQualification: {{qual.eduqualification}},
                                                                            University: {{qual.university}}, i = {{i}}
                                                                            <a (click)="qualificationEdit(i)" class="btn btn-info">Edit</a>
                                                                        </li>
                                                                    </ul> -->
                                                    </div>
                                                </div>
                                                <!--display Table-->
                                                <!--show button-->
                                                <div class="row row-body">
                                                    <div class='col-xs-12 col-sm-12 col-md-6 col-lg-12 '>
                                                        <button *ngIf="showFlag" class="btn-info btn-outline-rounded" (click)="showQualification()">Add/Show Qualification</button>
                                                        <button *ngIf="hideFlag" class="btn-info btn-outline-rounded" (click)="hideQualification()"> Hide Qualification</button>

                                                    </div>
                                                </div>
                                                <!--show button-->


                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" role="tab" id="headingTwo">
                                                <h4 class="panel-title">
                                                    <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#language" aria-expanded="false" aria-controls="language">
                                                        <b>Languages Known</b>
                                                    </a>
                                                </h4>
                                            </div>
                                            <div id="language" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">

                                                <!--language form-->
                                                <div class="row row-body" *ngIf="visible">
                                                    <div class="col-xs-12 col-sm-12 col-md-5">
                                                        <div class="form-group">
                                                            <label class="control-label" for="lang">Languages Known</label>
                                                            <select for="lan" name="lang"  id="lang" class="form-control" 
                                                            type="text" placeholder="language" #lang="ngModel" [(ngModel)]="language.lang">
                                                            <option value="" disabled>Select Option</option>
                                                            <option *ngFor="let lan of Languages" [id]="lan.id" [value]="lan.language">{{lan.language}}</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-12 col-md-1">
                                                        <div class="form-group">
                                                            <label class="control-label label-language" for="read">Read
                                                                <input class=" input-md" id="read" name="read" type="checkbox" #read="ngModel" [(ngModel)]="language.read">
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-12 col-md-1">
                                                        <div class="form-group">
                                                            <label class="control-label label-language" for="write">Write
                                                                <input class=" input-md" id="write" name="write" type="checkbox" #write="ngModel" [(ngModel)]="language.write">
                                                            </label>
                                                        </div>
                                                    </div>
                                                    <div class="col-xs-12 col-sm-12 col-md-1">
                                                        <div class="form-group">
                                                            <label class="control-label label-language" for="speak">Speak
                                                                <input class=" input-md" id="speak" name="speak" type="checkbox" #speak="ngModel" [(ngModel)]="language.speak">
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <div class="col-xs-12 col-sm-12 col-md-1">
                                                        <div class="form-group">
                                                            <label class="control-label label-language" for="understand">Understand
                                                                <input class=" input-md" id="understand" name="understand" type="checkbox" #understand="ngModel" [(ngModel)]="language.understand">
                                                            </label>
                                                        </div>
                                                    </div>
                                                      <!--language form-->
                                                      <div>
                                                        <button *ngIf="editFlagLang==false" class="btn btn-success btn-outline-rounded btn-info btn-add language-save" (click)="addLanguage()">Add Language</button>
                                                        <button *ngIf="editFlagLang==true" class="btn btn-success btn-outline-rounded btn-info btn-addlanguage-save" (click)="saveChangesLanguage()">Add Changes</button>
                                                    </div>
                                                    <!--display Language-->
                                                </div>

                                                <div class="row " *ngIf="education.languages.length > 0">
                                                    <div class='col-xs-12 col-sm-12 col-md-6 col-lg-12'>
                                                        <h4 class="text-center">Languages</h4>
                                                        <table class="table table-sm">
                                                            <tr>
                                                                <th>Language</th>
                                                                <th>Read</th>
                                                                <th>Write</th>
                                                                <th>Speak</th>
                                                                <th>Understand</th>
                                                                <th>Actions</th>
                                                            </tr>
                                                            <tr *ngFor="let lan of education.languages; let i=index ">
                                                                <td>
                                                                    {{lan.lang}}
                                                                </td>
                                                                <td>
                                                                    {{lan.read}}
                                                                </td>
                                                                <td>
                                                                    {{lan.write}}
                                                                </td>
                                                                <td>
                                                                    {{lan.speak}}
                                                                </td>
                                                                <td>
                                                                    {{lan.understand}}
                                                                </td>

                                                                <td>
                                                                    <a (click)="languageEdit(i)" class="btn a-info btn-info">
                                                                        <span class="glyphicon glyphicon-pencil"></span>
                                                                    </a>

                                                                    <a (click)="languageDelete(i)" class="btn a-info btn-delete">
                                                                        <span class="glyphicon glyphicon-trash"></span>
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                        </table>

                                                        <!-- <ul>
                                    <li >
                                        EduQualification: {{qual.eduqualification}},
                                        University: {{qual.university}}, i = {{i}}
                                        <a (click)="qualificationEdit(i)" class="btn btn-info">Edit</a>
                                    </li>
                                </ul> -->
                                                    </div>
                                                </div>
                                                <!--display Language-->
                                                <!--show button-->
                                                <div class="row row-body">
                                                    <div class='col-xs-12 col-sm-12 col-md-6 col-lg-12 '>
                                                        <button *ngIf="showFlag" class="btn-info btn-outline-rounded" (click)="showLanguage()">Add/Show Language</button>
                                                        <button *ngIf="hideFlag" class="btn-info btn-outline-rounded" (click)="hideLanguage()"> Hide Language</button>

                                                    </div>
                                                </div>
                                                <!--show button-->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--fields-->
                            <form #educationForm="ngForm" class="editForm" novalidate>

                            <div class="row">
                                <div class='col-xs-12 col-sm-12 col-md-6 col-lg-6'>
                                    <div class="form-group">
                                        <label class="control-label" for="userCv">user CV</label>
                                        <input class="form-control input-md" #userCv="ngModel" required id="userCv" name="userCv" 
                                        type="file" placeholder="userCv"
                                        (change)="handleFileInput($event)" [(ngModel)]="education.userCv">

                                        <a target="_blank" download href="{{resume_url}}" class="fa fa-download resumeDownloadIconCls"></a>
                                        <div *ngIf="userCv?.touched || userCv?.dirty" class="alert alert-danger">
                                            <div *ngIf="userCv.errors?.required"> Required</div>
                                        </div>
                                    </div>
                                </div>
                                <div class='col-xs-12 col-sm-12 col-md-6 col-lg-6'>
                                    <div class="form-group">
                                        <label class="control-label" for="mothertounge">Mothertounge</label>
                                        <select class="form-control input-md" #mothertounge="ngModel" required id="mothertounge" name="mothertounge" type="file"
                                            placeholder="mothertounge" [(ngModel)]="education.mothertounge">
                                            <option value="" disabled>Select Option</option>
                                            <option *ngFor="let lan of Languages" [id]="lan.id" [value]="lan.language">{{lan.language}}</option>

                                        </select>
                                        <div *ngIf="mothertounge?.touched || mothertounge?.dirty" class="alert alert-danger">
                                            <div *ngIf="mothertounge.errors?.required"> Required</div>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="form-group text-center">
                                <button class="btn btn-success btn-outline-rounded btn-info" [disabled]="!educationForm.valid" (click)="goToNext(educationForm)">
                                    Submit
                                    <span style="margin-left:10px;" class="glyphicon glyphicon-arrow-right"></span>
                                </button>
                            </div>
                        </form>

                        </div>
                    </div>
                </div>

        </div>
    </div>
</div>